<p align="center">
	
  <img alt="GitHub language count" src="https://img.shields.io/github/languages/count/EdileneLopes/Api-alunos?color=%2304D361">

  <img alt="Repository size" src="https://img.shields.io/github/repo-size/EdileneLopes/Api-alunos">
  
  <a href="https://github.com/EdileneLopes/Api-alunos/commits/main">
    <img alt="GitHub last commit" src="https://img.shields.io/github/last-commit/EdileneLopes/Api-alunos">
  </a>
    
  <img alt="License" src="https://img.shields.io/badge/license-MIT-brightgreen">
  <a href="https://github.com/EdileneLopes/Api-alunos/stargazers">
    <img alt="Stargazers" src="https://img.shields.io/github/stars/EdileneLopes/Api-alunos?style=social">
  </a>

  <a href="">
    <img alt="Gamados por Java" src="https://img.shields.io/badge/Grupo - Gamados por Java-tomato">
  </a>

<h2 align="center">üöß Persistencia Poliglota üöÄ üöß</h2>

**Um dos motivos de usarmos esse tipo de persist√™ncia √© que tivemos o desafio de integrar back-end com back-end (Java e Node) uma API chamando a outra, onde deixamos nossos m√©todos gen√©ricos o suficiente para chamar √†s duas APIs.
Uma persist√™ncia Utilizando Node.js e MongoDB e outra com Java e MySQL para persistir os dados recebidos pela API.**

<p align="center">
 <a href="#-sobre-o-projeto">Sobre</a> ‚Ä¢
 <a href="#-documenta√ß√£o-completa">Documenta√ß√£o</a> ‚Ä¢
 <a href="#-funcionalidades">Funcionalidades</a> ‚Ä¢
 <a href="#-como-executar-o-projeto">Como executar</a> ‚Ä¢ 
 <a href="#-tecnologias">Tecnologias</a> ‚Ä¢ 
 <a href="#-contribuidores">Contribuidores</a> ‚Ä¢ 
 <a href="#-licen√ßa">Licen√ßa</a>
</p>

## üíª Sobre o Projeto

:coffee: Sistema de Gerenciamento - √â uma API em Node.js que permite o Cadastro, Consulta, Inclus√£o e Exclus√£o de Alunos...

Projeto desenvolvido durante o **Treinamento Java e Node** oferecida pela [Gama Academy](https://www.gama.academy/) em parceria com a [Accenture](https://www.accenture.com/br-pt).

---

## :+1: Aprendizados
Node.js, modulos, pacotes...
JavaScript, Fundamentos a Orienta√ß√£o a Objeto, tipos de dados (estruturas), fun√ß√µes: parametros, arrow functions, callbacks...
JSON: Objeto JSON, desestrutura√ß√£o de Objetos...
Promisses
API de CRUD b√°sica atrav√©s de requisi√ß√µes HTTP diretas usando o Postman, mostrando dom√≠nio em RESTful APIs. 
Demonstrar a aplica√ß√£o de uma persist√™ncia poliglota desse CRUD, utilizando tanto banco de dados relacionais como outros servi√ßos (SOA).

---

## üìÉ Documenta√ß√£o Completa

- <a href="https://github.com/EdileneLopes/Api-alunos/blob/master/">Back-End</a>

---

## ‚öôÔ∏è [](https://github.com/EdileneLopes/Api-alunos#funcionalidades)**Funcionalidades**
- [x] Alunos podem se cadastrar na plataforma enviando:
  - Nome, Telefone, Matricula
  
- [x] Manipular na plataforma:
  - Acesso ao CRUD onde permite o gerenciamento
    - A Cria√ß√£o de Novos Alunos, Cursos, Disciplinas, Notas
    - Pesquisa e Leitura
    - Edi√ß√£o
    - Exclus√£o

- [x] Valida√ß√µes:
  - Utilizando [JSON Schema](https://github.com/EdileneLopes/Api-alunos/blob/master/schema/Aluno.json)
    - Valida√ß√£o de Estrutura e Documentos JSON
    - Definir atributos obrigat√≥rios, tipagem, tamanho entre outros.
    - Documenta√ß√£o clara, leg√≠vel por humanos e por m√°quina
  - Utilizando Ajv e Ajv-i18n
    - Ajv implementa a especifica√ß√£o do esquema JSON
    - Ajv-i18n Traz Mensagens de erro internacionalizadas para Ajv, disponibilizando acesso a diversos idiomas
  - Utilizando Hapi/Boom
    - HTTP o c√≥digo correto e mais amig√°vel no envio com um objeto estruturado e mensagem personalizada. 
    
- [x] JSON Web Token / JWT:
  -  Como uma forma de garantir a autentica√ß√£o e autoriza√ß√£o de rotas e usu√°rios.
    
---

## üöÄ Como executar o projeto

Este projeto est√° dividido em duas partes:
1. Backend Node ([Api-alunos](https://github.com/EdileneLopes/Api-alunos)) 
2. Backend Java ([Neste outro repositorio](https://github.com/EdileneLopes/accenture-java)) 

üí° O Backend deve estar sendo executado para funcionar.

### Pr√©-requisitos

Antes de come√ßar, voc√™ vai precisar ter instalado em sua m√°quina as seguintes ferramentas:
[Git](https://git-scm.com), [Node (Vers√£o 14 LTS ou Superior)](https://nodejs.org/en/download/), [NVM (Node Version Manager for Windows)](https://github.com/coreybutler/nvm-windows), [MongoDB(Community Edition)](https://docs.mongodb.com/manual/tutorial/install-mongodb-on-windows/), [NoSQLBooster](https://nosqlbooster.com/downloads). 
Al√©m disto √© bom ter um editor para trabalhar com o c√≥digo como [VSCode](https://code.visualstudio.com/).
E para testar e consumir os Endpoints use [Postman](https://www.postman.com/)

> Para executar a persistencia poliglota voc√™ obrigatoriamente deve ter o repositorio de Java.
> Acesse [Neste outro repositorio](https://github.com/EdileneLopes/accenture-java).

> E siga as instru√ß√µes e pre-requisitos da documenta√ß√£o.

#### üé≤ Rodando o Backend (servidor)

```
# Clone este reposit√≥rio
$ git clone https://github.com/EdileneLopes/Api-alunos.git

# Acesse a pasta do projeto no terminal de sua preferencia bash/cmd
$ cd Api-alunos

# Um passo antes da execu√ß√£o instale as dependencias
$ npm install

# Execute
$ npm start

# O servidor inciar√° na porta:3000 - Acesse: http://localhost:3000
```
***[Acesse a Documenta√ß√£o com Swagger UI](http://localhost:3000/doc)***
```
http://localhost:3000/doc
```

## Autentica√ß√£o

Lembrando que as URLs precisam de um Authorization: Bearer Token v√°lido (emitido no mesmo dia, com a assinatura HS256 utilizando a chave `chavesecreta` e qualquer payload.

> Antes de gerar o token voc√™ precisa acessar:
> http://localhost:3000/token

> Com Metodo POST:
> Basic Auth e Passar (E-mail e senha) cadastrados no banco de dados em colletion usuarios

## Trocando de persist√™ncia

Para configurar qual ser√° o reposit√≥rio utilizado para persistir os dados recebidos pela API, utilize o header `X-Persistence` na requisi√ß√£o, com um dos seguintes valores:

### `mongodb`

> mongodb √© o padr√£o

Precisa de um servidor de MongoDB rodando em `localhost` na porta 27017.
O banco padr√£o para as opera√ß√µes √© `"aluno"`.

### `rest`
> mysql

Tenta se conectar em uma API de REST rodando em `localhost` na porta 8080. 
A rota padr√£o para as opera√ß√µes √© `/alunos`.

---

## üõ† Tecnologias

As seguintes ferramentas foram usadas na constru√ß√£o do projeto:

#### []()**Server**  ([NodeJS](https://nodejs.org/en/))
-  [<img src="https://img.shields.io/github/package-json/dependency-version/edilenelopes/Api-alunos/@hapi/boom?style=plastic">](https://github.com/hapijs/boom)
-  [<img src="https://img.shields.io/github/package-json/dependency-version/edilenelopes/Api-alunos/@hapi/hapi?style=plastic">
](https://github.com/hapijs/hapi)
-  [<img src="https://img.shields.io/github/package-json/dependency-version/edilenelopes/Api-alunos/@hapi/jwt?style=plastic">
](https://github.com/hapijs/jwt)
-  [<img src="https://img.shields.io/github/package-json/dependency-version/edilenelopes/Api-alunos/ajv?style=plastic">
](https://github.com/ajv-validator/ajv)
-  [<img src="https://img.shields.io/github/package-json/dependency-version/edilenelopes/Api-alunos/ajv-i18n?style=plastic">
](https://github.com/ajv-validator/ajv-i18n)
-  [<img src="https://img.shields.io/github/package-json/dependency-version/edilenelopes/Api-alunos/hapi-mongodb?style=plastic">
](https://github.com/Marsup/hapi-mongodb)
-  [<img src="https://img.shields.io/github/package-json/dependency-version/edilenelopes/Api-alunos/hapi-swaggered?style=plastic">
](https://github.com/z0mt3c/hapi-swaggered)
-  [<img src="https://img.shields.io/github/package-json/dependency-version/edilenelopes/Api-alunos/hapi-swaggered-ui?style=plastic">
](https://github.com/z0mt3c/hapi-swaggered-ui)
-  [<img src="https://img.shields.io/github/package-json/dependency-version/edilenelopes/Api-alunos/joi?style=plastic">
](https://github.com/sideway/joi)
-  [<img src="https://img.shields.io/github/package-json/dependency-version/edilenelopes/Api-alunos/jsonwebtoken?style=plastic">
](https://github.com/auth0/node-jsonwebtoken)
-  [<img src="https://img.shields.io/github/package-json/dependency-version/edilenelopes/Api-alunos/mongodb?style=plastic">
](https://github.com/mongodb/node-mongodb-native)
-  [<img src="https://img.shields.io/github/package-json/dependency-version/edilenelopes/Api-alunos/node-fetch?style=plastic">
](https://github.com/node-fetch/node-fetch)
-  [<img src="https://img.shields.io/github/package-json/dependency-version/edilenelopes/Api-alunos/nodemon?style=plastic">
](https://github.com/remy/nodemon)

   > Veja o arquivo  [package.json](https://github.com/EdileneLopes/Api-alunos/blob/master/package.json)*

#### [](https://github.com/EdileneLopes/Api-alunos#utilitarios)**Utilit√°rios**

-   Organiza√ß√£o: **[Trello](https://trello.com/)**
-   JSON Schema Generator: **[JSONschema.net](https://jsonschema.net)**
-   API:  **[Swagger UI](https://swagger.io/tools/swagger-ui/)**
-   Editor:  **[Visual Studio Code](https://code.visualstudio.com/)**, **[Eclipse](https://www.eclipse.org/)**
-   Markdown:  **[Markdown Emoji](https://gist.github.com/rxaviers/7360908)**
-   Teste de API:  **[Postman](https://www.postman.com/)**

---

## üë®‚Äçüíª Contribuidores

üíú Um super parabens üëè para essa equipe nota 10 que fez tudo sair do papel :)

<table>
  <tr>
    <td align="center"><a href="https://github.com/EdileneLopes"><img style="border-radius: 50%;" src="https://avatars.githubusercontent.com/u/60043558?v=4" width="150px;" alt=""/><br /><sub><b>Edilene Lopes</b></sub></a><br /><a href="https://www.linkedin.com/in/edilene-lopes/" title="Gamados por Java">:family: :books:</a></td>
    <td align="center"><a href="https://github.com/elsonss1988"><img style="border-radius: 50%;" src="https://avatars.githubusercontent.com/u/45674699?v=4" width="150px;" alt=""/><br /><sub><b>Elson Santos</b></sub></a><br /><a href="https://www.linkedin.com/in/eng-elson/" title="Gamados por Java">:coffee:  :musical_note:</a></td>
    <td align="center"><a href="https://github.com/Rubenscode"><img style="border-radius: 50%;" src="https://avatars2.githubusercontent.com/u/40808539?v=4" width="150px;" alt=""/><br /><sub><b>Rubens Almeida</b></sub></a><br /><a href="https://www.linkedin.com/in/rubens-almeida-andrade/" title="Gamados por Java">üë®‚ÄçüöÄ :alien:</a></td>
  </tr>
</table>

## üí™ Como contribuir para o projeto

1. Fa√ßa um **fork** do projeto.
2. Crie uma nova branch com as suas altera√ß√µes: `git checkout -b my-feature`
3. Salve as altera√ß√µes e crie uma mensagem de commit contando o que voc√™ fez: `git commit -m "feature: My new feature"`
4. Envie as suas altera√ß√µes: `git push origin my-feature`

---

---

## üìù Licen√ßa

Este projeto esta sobe a licen√ßa [MIT](./LICENSE).

<p><a href="#"><g-emoji class="g-emoji" alias="arrow_up" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b06.png">‚¨Ü</g-emoji> Voltar ao topo</a><br></p>

---
